<h1 mat-dialog-title>
  {{ 'settings-data-source.SelectAVariable' | translate }}
</h1>

<div mat-dialog-content>
  <ngx-datatable
    [headerHeight]="50"
    rowHeight="auto"
    [rows]="rows"
    class="overflow-auto"
  >
    <ng-container [ngSwitch]="data.protocol">
      <ng-container *ngSwitchCase="DataSourceProtocol.S7">
        <ngx-datatable-column
          [name]="'settings-data-source.Name' | translate"
          prop="name"
        ></ngx-datatable-column>
        <ngx-datatable-column
          [name]="'settings-data-source.BTTSString' | translate"
          prop="address"
        ></ngx-datatable-column>
      </ng-container>
      <ng-container *ngSwitchCase="DataSourceProtocol.IOShield">
        <ngx-datatable-column
          [name]="'settings-data-source.Area' | translate"
          prop="area"
        ></ngx-datatable-column>
        <ngx-datatable-column
          [name]="'settings-data-source.Component' | translate"
          prop="component"
        ></ngx-datatable-column>
        <ngx-datatable-column
          [name]="'settings-data-source.VariableName' | translate"
          prop="variable"
        ></ngx-datatable-column>
      </ng-container>
    </ng-container>

    <ngx-datatable-column
      [name]="'settings-data-source.Actions' | translate"
      cellClass="button-cell"
      [sortable]="false"
    >
      <ng-template
        ngx-datatable-cell-template
        let-rowIndex="rowIndex"
        let-value="value"
        let-row="row"
      >
        <mat-button-toggle-group>
          <mat-button-toggle
            [mat-dialog-close]="row"
            [matTooltip]="'settings-data-source.SelectVariable' | translate"
            matTooltipPosition="above"
            ><mat-icon>arrow_forward</mat-icon></mat-button-toggle
          >
        </mat-button-toggle-group>
      </ng-template>
    </ngx-datatable-column>
  </ngx-datatable>
</div>
<div mat-dialog-actions class="d-flex align-items-center justify-content-end">
  <button type="submit" mat-button (click)="onClose()">
    {{ 'settings-data-source.Cancel' | translate }}
  </button>
</div>
