---
title: アプリケーションインターフェース
---

## 始めに

`アプリケーションインターフェース`により、外部アプリケーションはIoTconnector flexからデータを取得することができます。データソースから取得したデータは、DMG MORI Messengerやクラウドプラットフォームなどの外部アプリケーションで利用することができます。

現在サポートされているインターフェース/プロトコルは以下の通りです:

- `MTConnect` (DMG MORI Messenger 等のアプリケーション用インターフェース)
- `OPC UA` (UA Expert 等のアプリケーション用インターフェース)
- `CELOS Xchange` (Tulip 等の DMG MORI クラウドアプリケーション用インターフェース)

## 一般的な利用方法

![](/img/applicationinterface/overview.png)

最初のセットアッププロセスでは、必要な `アプリケーションインターフェース` を選択することができます。選択されたテンプレートに応じて、各インターフェースタブで利用可能な `データポイント` が予め選択されます。

`CELOS Xchange` 以外のプロトコルでは、データポイントの追加、削除、編集が可能です。また、`OPC UA` では、独自のカスタム変数を作成することができます。インターフェイスを完全に有効化または無効化することも可能です。

プロトコル固有の設定については、対応するセクションを参照ください。

### アプリケーションインターフェイスへのデータポイントのマッピング

データポイントのマッピングは `MTConnect` と `OPC UA` にのみ行うことができます。選択したアプリケーションインタフェースのリストから目的のデータポイントを選び、[`Mapping`](Mapping.md) ページを使用してマッピングすることができます。ここでは、必要なソースにマッピングする方法を説明します:

- データソースまたは必要な仮想データポイントを設定します。
- [`Mapping`](Mapping.md) ページに移動し、新しいマッピングを作成します。
- ソースとなるデータポイントを選択します。
- `ターゲット` 列に、アプリケーションインターフェイスのデータポイントが表示されますので、マッピングしたいデータポイントを選択します。
- 保存して変更を適用するとマッピングが完了します。`アプリケーションインターフェイス`のページには、下の写真のように、データポイントに緑色のチェックマークが表示されます。また、データポイントの値がアプリケーションから参照できるようになります。

![マッピングされたデータポイント](/img/applicationinterface/mapped_application_interface_datapoint.png)

### 新しいデータポイントを追加する

データポイントは `MTConnect` と `OPC UA` にのみ追加することができます。以下の手順で新しいデータポイントを追加してください:

1. 白いプラスアイコンの付いた青いボタンをクリックします。
2. ポップアップ表示されたオーバーレイから目的のデータソース点を選択し、矢印ボタンをクリックします。
3. オーバーレイが消え、リストに編集可能な新しい項目が追加されます。
4. このデータポイントに名前を設定します。名前は自由に書き換えることができます。
5. (オプション) データポイントの種類を変更します。
6. (オプション) データポイントの初期値を入力します。
7. (オプション) 値に対して何らかのマッピングを追加する。このマッピングは仮想データポイントの`列挙型`に似ており、値をテキスト/数字にマッピングします。下の写真の例を参照してください。
8. 緑のチェックボタンをクリックすると保存され、赤の十字をクリックすると入力内容が破棄されます。
9. `変更を適用` ボタンをクリックすると、新しいデータポイントがデバイスに反映されます。

注意: データポイントの隣にある緑のチェックアイコン (下の写真の例) は、このデータポイントに対して[マッピング(上記参照)](ApplicationInterface.md#mapping a-data-point-to-the-application-interfaces) が作成された場合にのみ表示されます。
![追加されたデータポイント](/img/applicationinterface/applicationinterface_added_datapoint.png)

### データポイントを削除する

データポイントの削除は、`MTConnect`と`OPC UA`にのみ行うことができます。以下の手順でデータポイントを削除してください:

1. `アクション` セクションの削除したい項目の右側にあるゴミ箱アイコンをクリックします。
2. 「本当にデータポイントを削除しますか」という質問とともに表示されるオーバーレイで、「はい」を選択します。
3. `変更を適用` ボタンをクリックして、変更を反映します。

### データポイントの編集

データポイントの編集は、`MTConnect`と`OPC UA`にのみ行うことができます。以下の手順でデータポイントを編集してください:

1. `Actions` セクションの削除したい項目の右側にある鉛筆アイコンをクリックします。
2. リスト内の項目は、新しく作成されたデータポイントと同様に編集可能です(参照: 新しいデータポイントの追加: ステップ4以降)。
3. 変更が完了したら、緑のチェックボタンをクリックして保存するか、赤い十字をクリックして入力を破棄します。
4. `変更を適用` ボタンをクリックして、変更を反映します。
